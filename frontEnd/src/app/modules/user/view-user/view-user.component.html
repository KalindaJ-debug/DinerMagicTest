<header>
    <div class="px-3 py-2 border-bottom mb-3">
        <div class="container d-flex flex-wrap justify-content-center">
            <form class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto" role="search">
                
            </form>

            <div class="text-end">
                <a class="btn btn-light text-dark me-2" *ngIf="is_logged_in == false" routerLink="/login">Login</a>
                <button type="button" class="btn btn-danger" *ngIf="is_logged_in" (click)="logout()">Logout</button>
            </div>
        </div>
    </div>
</header>
<div class="container">

    <a *ngIf="is_admin" class="btn btn-outline-dark" routerLink="/add_user">Click here to add user</a>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Access Level</th>
                <th scope="col">Approved By</th>
                <th scope="col" *ngIf="is_admin">Update</th>
                <th scope="col" *ngIf="is_admin">Delete</th>
            </tr> 
        </thead>
        <tbody>
            <tr *ngFor="let user of userArray">
                <th scope="row" >{{ user.id }}</th>
                <td>{{ user.name }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.access_level }}</td>
                <td>{{ user.created_by }}</td>
                <td *ngIf="is_admin"><button type="button" class="btn btn-outline-primary" (click)="updateUser(user.id)">Update</button></td>
                <td *ngIf="is_admin"><button type="button" class="btn btn-outline-danger" (click)="deleteUser(user.id)">Delete</button></td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="update_open">
        <app-update-user (updateDataEvent)="updateDataTest($event)" [userData]="userData" [userId]="updateUserId"></app-update-user>
    </div>
</div>
